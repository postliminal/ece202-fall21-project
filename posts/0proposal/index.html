<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Proposal | LOCALIZZACIONE</title>
<meta name=keywords content>
<meta name=description content="Project Proposal 1. Motivation & Objective Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE).">
<meta name=author content="Edwin, Roy">
<link rel=canonical href=//postliminal.github.io/ece202-fall21-project/posts/0proposal/>
<link crossorigin=anonymous href=/ece202-fall21-project/assets/css/stylesheet.min.5e2b4101351c21e906f398ae96901791830f58d430f96f2659dab7eaef7b3cb7.css integrity="sha256-XitBATUcIekG85iulpAXkYMPWNQw+W8mWdq36u97PLc=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/ece202-fall21-project/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=//postliminal.github.io/ece202-fall21-project/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=//postliminal.github.io/ece202-fall21-project/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=//postliminal.github.io/ece202-fall21-project/favicon-32x32.png>
<link rel=apple-touch-icon href=//postliminal.github.io/ece202-fall21-project/apple-touch-icon.png>
<link rel=mask-icon href=//postliminal.github.io/ece202-fall21-project/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.0">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Proposal">
<meta property="og:description" content="Project Proposal 1. Motivation & Objective Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE).">
<meta property="og:type" content="article">
<meta property="og:url" content="//postliminal.github.io/ece202-fall21-project/posts/0proposal/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-11-01T01:26:06-07:00">
<meta property="article:modified_time" content="2021-11-01T01:26:06-07:00"><meta property="og:site_name" content="ExampleSite">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Proposal">
<meta name=twitter:description content="Project Proposal 1. Motivation & Objective Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE).">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"//postliminal.github.io/ece202-fall21-project/posts/"},{"@type":"ListItem","position":2,"name":"Proposal","item":"//postliminal.github.io/ece202-fall21-project/posts/0proposal/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Proposal","name":"Proposal","description":"Project Proposal 1. Motivation \u0026amp; Objective Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE).","keywords":[],"articleBody":"Project Proposal 1. Motivation \u0026 Objective Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE). We will focus on the localization problem using two types of radio communication: Bluetooth Low Energy (BLE) and Thread (using OpenThread). In order to provide a more realistic testing scenario, we will include other background processes such as keyword recognition via the onboard microphone and visual feedback via an LCD display. Since the localization tasks require very precise timing and synchronization, this setup will let us experiment and characterize the performance of different scheduling schemes as well as find tradeoffs in accuracy and performance. The goal is to familiarize ourselves with some of the new capabilities on the board, whilst creating a benchmark for the effectiveness, capabilities, and overall limitations of the board in this task that utilize communication systems, sensors, and TinyML.\n2. State of the Art \u0026 Its Limitations As more tasks are demanded from IoT devices, having multiple processes on a system with varying priorities becomes common. Yet there exists room to further characterize the scheduling of applications using radio for localization applications. As discussed in the objective above, there exist many obstacles in current applications of localization applications. The direction of localization greatly benefits from the features of the Arduino Nano Sense 33 BLE through the ubiquitousness of BLE and Thread protocols in low power form factors. Therefore, the ability to successfully orchestrate our objective showcases the growth of embedded systems tackling localization applications in ways that traditional methods have not. Currently, most localizations are contingent on WiFi methods that have varying accuracy and require high power sources.\n3. Novelty \u0026 Rationale Our approach will use the Arduino’s BLE and Openthread processes in a more realistic scenario, by evaluating the performance of a higher priority process (wake-word recognition) as a localization process is running. The motivation of the implementation is to delve deeper into the inner workings of these operations and assess the tradeoffs of each configuration. The chances of success are high since the board supports Bluetooth 5.1 which has new localization features. Furthermore, increased research and development of the OpenThread project will allow us to work more efficiently when using this protocol. We plan to take advantage of existing frameworks such as nrfConnect, BLEscanner, etc. Our decision to characterize and evaluate parameters (e.g sampling rate, scheduling schemes, filtering schemes, tinyml model architecture) will further allow us to distinguish optimal cases and limitations of the Arduino Nano Sene 33 BLE.\n4. Potential Impact Real time localization systems (RTLS) are increasing in importance as more automated/autonomous machines and robots are deployed in workplace environments, where people and robots have to work together. Therefore, our project’s success will help clarify the limitations and advantages of the Arduino Nano 33 BLE Sense’s hardware in realistic localization uses. We will be able to optimize performance for time critical processes/tasks where latency and performance are essential by creating a deterministic approach to scheduling. The results will highlight best practices when using the Arduino Nano 33 Ble Sense and similar embedded systems.\n5. Challenges A challenge of the project will be successfully orchestrating multiple subprocesses effectively and maximizing the performance within each. Some of these subprocesses include the inference of machine learning models, signal processing of BLE and thread signals, and performing the localization algorithm. A notable risk is the serial process of events that cascades into each submodule. There is a great benefit to maximizing each component within the project for a comparison of the results using different processes. Hence the success of the overall project is greatly impacted by any bottlenecks or inefficiencies. Additional risks include the lack of familiarity with aspects of the project. Much of the frameworks that are planned to be used such are uncharted domains and will require significant understanding in order to accomplish the objective as desired. Additional possible challenges are the scheduling and synchronization between arduinos.\n6. Requirements for Success  Writing/editing drivers based on documentation Ability to implement findings from research papers Rapid iterations and realization of minimum viable products Using Bluetooth 5.1 and OpenThread to the fullest Course material, office hours, CampusWire  7. Metrics of Success Metrics for success at the system and subunit levels are optimizing parameters in the pipeline to attain favorable RSSI, RMSE, and the evaluation of latency and performance. Parameters within the architecture of the implementation include the size of the program, task deadlines met, and accuracy of the algorithms developed/implemented.\n8. Execution Plan Key tasks in the project can be assessed as the process of developing a Machine Learning Pipeline for a spoken word, implementation of the localization process, and implementation of the BLE and Openthread processes. Within these processes, a goal is to effectively optimize processing and parameters respectively. The team is partitioning tasks according to priority and familiarity with concepts.\nSide tasks Include: Wake-word recognition LCD screen System configuration/setup Firmware and Client data processing software Data collection Audio BLE Thread Initial Results Scheduling schemes Execution of experiments Evaluation of results and presentation (what worked and what didnt)\n9. Related Work 9.a. Papers below).\n Good overview on the indoors localization field (2017) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5580254/ Performance evaluation of ble localization work (2014) https://onlinelibrary.wiley.com/doi/10.1002/ett.2864 Existing implementation of ble loc on arduino nano sense (2021) https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8347277/ Location fingerprinting with BLE beacons (2015): Location Fingerprinting With Bluetooth Low Energy Beacons.pdf SurroundSense: mobile phone localization via ambience fingerprinting - https://dl.acm.org/doi/abs/10.1145/1614320.1614350 AoA \u0026 AoD in Radio localization - https://www.silabs.com/whitepapers/bluetooth-angle-estimation-for-real-time-locationing  9.b. Datasets “Warden P. Speech Commands: A public dataset for single-word speech recognition, 2017. Available from: http://download.tensorflow.org/data/speech_commands_v0.01.tar.gz\".\n9.c. Software  Arduino libs for prototyping Nordic SDK/softdevices nRF Connect for Desktop Python nRF sniffer (802.15.4/BLE) TinyML Openthread Mbed OS Zephyr OS https://www.openbeacon.org/about.html  10. References List references correspondign to citations in your text above. For papers please include full citation and URL. For datasets and software include name and URL.\n","wordCount":"1055","inLanguage":"en","datePublished":"2021-11-01T01:26:06-07:00","dateModified":"2021-11-01T01:26:06-07:00","author":[{"@type":"Person","name":"Edwin"},{"@type":"Person","name":"Roy"}],"mainEntityOfPage":{"@type":"WebPage","@id":"//postliminal.github.io/ece202-fall21-project/posts/0proposal/"},"publisher":{"@type":"Organization","name":"LOCALIZZACIONE","logo":{"@type":"ImageObject","url":"//postliminal.github.io/ece202-fall21-project/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=//postliminal.github.io/ece202-fall21-project/ accesskey=h title="LOCALIZZACIONE (Alt + H)">LOCALIZZACIONE</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=//postliminal.github.io/ece202-fall21-project/ title=project>
<span>project</span>
</a>
</li>
<li>
<a href=//postliminal.github.io/ece202-fall21-project/contact/ title="contact us">
<span>contact us</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Proposal
</h1>
<div class=post-meta>November 1, 2021&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Edwin, Roy
</div>
</header>
<div class=post-content><h1 id=project-proposal>Project Proposal<a hidden class=anchor aria-hidden=true href=#project-proposal>#</a></h1>
<h2 id=1-motivation--objective>1. Motivation & Objective<a hidden class=anchor aria-hidden=true href=#1-motivation--objective>#</a></h2>
<p>Indoors localization has been a highly researched topic for decades. Since GPS signals can’t reach devices inside buildings, alternative methods using radio signals (Bluetooth, 802.15.4, wifi), audio signals, visual signals, etc. have been devised and published. Given that these sensing technologies (radio, audio, video, depth) continue to improve, the indoors localization problem is still relevant and continues to be actively researched. Therefore, we seek to contribute to the ongoing research by approaching the localization problem via the implementation and experimentation of some of these algorithms in a resource constrained computing environment (Arduino Nano Sense 33 BLE). We will focus on the localization problem using two types of radio communication: Bluetooth Low Energy (BLE) and Thread (using OpenThread).
In order to provide a more realistic testing scenario, we will include other background processes such as keyword recognition via the onboard microphone and visual feedback via an LCD display. Since the localization tasks require very precise timing and synchronization, this setup will let us experiment and characterize the performance of different scheduling schemes as well as find tradeoffs in accuracy and performance. The goal is to familiarize ourselves with some of the new capabilities on the board, whilst creating a benchmark for the effectiveness, capabilities, and overall limitations of the board in this task that utilize communication systems, sensors, and TinyML.</p>
<h2 id=2-state-of-the-art--its-limitations>2. State of the Art & Its Limitations<a hidden class=anchor aria-hidden=true href=#2-state-of-the-art--its-limitations>#</a></h2>
<p>As more tasks are demanded from IoT devices, having multiple processes on a system with varying priorities becomes common. Yet there exists room to further characterize the scheduling of applications using radio for localization applications. As discussed in the objective above, there exist many obstacles in current applications of localization applications. The direction of localization greatly benefits from the features of the Arduino Nano Sense 33 BLE through the ubiquitousness of BLE and Thread protocols in low power form factors. Therefore, the ability to successfully orchestrate our objective showcases the growth of embedded systems tackling localization applications in ways that traditional methods have not. Currently, most localizations are contingent on WiFi methods that have varying accuracy and require high power sources.</p>
<h2 id=3-novelty--rationale>3. Novelty & Rationale<a hidden class=anchor aria-hidden=true href=#3-novelty--rationale>#</a></h2>
<p>Our approach will use the Arduino’s BLE and Openthread processes in a more realistic scenario, by evaluating the performance of a higher priority process (wake-word recognition) as a localization process is running. The motivation of the implementation is to delve deeper into the inner workings of these operations and assess the tradeoffs of each configuration. The chances of success are high since the board supports Bluetooth 5.1 which has new localization features. Furthermore, increased research and development of the OpenThread project will allow us to work more efficiently when using this protocol. We plan to take advantage of existing frameworks such as nrfConnect, BLEscanner, etc. Our decision to characterize and evaluate parameters (e.g sampling rate, scheduling schemes, filtering schemes, tinyml model architecture) will further allow us to distinguish optimal cases and limitations of the Arduino Nano Sene 33 BLE.</p>
<h2 id=4-potential-impact>4. Potential Impact<a hidden class=anchor aria-hidden=true href=#4-potential-impact>#</a></h2>
<p>Real time localization systems (RTLS) are increasing in importance as more automated/autonomous machines and robots are deployed in workplace environments, where people and robots have to work together. Therefore, our project’s success will help clarify the limitations and advantages of the Arduino Nano 33 BLE Sense’s hardware in realistic localization uses.
We will be able to optimize performance for time critical processes/tasks where latency and performance are essential by creating a deterministic approach to scheduling. The results will highlight best practices when using the Arduino Nano 33 Ble Sense and similar embedded systems.</p>
<h2 id=5-challenges>5. Challenges<a hidden class=anchor aria-hidden=true href=#5-challenges>#</a></h2>
<p>A challenge of the project will be successfully orchestrating multiple subprocesses effectively and maximizing the performance within each. Some of these subprocesses include the inference of machine learning models, signal processing of BLE and thread signals, and performing the localization algorithm. A notable risk is the serial process of events that cascades into each submodule. There is a great benefit to maximizing each component within the project for a comparison of the results using different processes. Hence the success of the overall project is greatly impacted by any bottlenecks or inefficiencies. Additional risks include the lack of familiarity with aspects of the project. Much of the frameworks that are planned to be used such are uncharted domains and will require significant understanding in order to accomplish the objective as desired. Additional possible challenges are the scheduling and synchronization between arduinos.</p>
<h2 id=6-requirements-for-success>6. Requirements for Success<a hidden class=anchor aria-hidden=true href=#6-requirements-for-success>#</a></h2>
<ul>
<li>Writing/editing drivers based on documentation</li>
<li>Ability to implement findings from research papers</li>
<li>Rapid iterations and realization of minimum viable products</li>
<li>Using Bluetooth 5.1 and OpenThread to the fullest</li>
<li>Course material, office hours, CampusWire</li>
</ul>
<h2 id=7-metrics-of-success>7. Metrics of Success<a hidden class=anchor aria-hidden=true href=#7-metrics-of-success>#</a></h2>
<p>Metrics for success at the system and subunit levels are optimizing parameters in the pipeline to attain favorable RSSI, RMSE, and the evaluation of latency and performance. Parameters within the architecture of the implementation include the size of the program, task deadlines met, and accuracy of the algorithms developed/implemented.</p>
<h2 id=8-execution-plan>8. Execution Plan<a hidden class=anchor aria-hidden=true href=#8-execution-plan>#</a></h2>
<p>Key tasks in the project can be assessed as the process of developing a Machine Learning Pipeline for a spoken word, implementation of the localization process, and implementation of the BLE and Openthread processes. Within these processes, a goal is to effectively optimize processing and parameters respectively. The team is partitioning tasks according to priority and familiarity with concepts.</p>
<p>Side tasks Include:
Wake-word recognition
LCD screen
System configuration/setup
Firmware and Client data processing software
Data collection
Audio
BLE
Thread
Initial Results
Scheduling schemes
Execution of experiments
Evaluation of results and presentation (what worked and what didnt)</p>
<h2 id=9-related-work>9. Related Work<a hidden class=anchor aria-hidden=true href=#9-related-work>#</a></h2>
<h3 id=9a-papers>9.a. Papers<a hidden class=anchor aria-hidden=true href=#9a-papers>#</a></h3>
<p>below).</p>
<ul>
<li>Good overview on the indoors localization field (2017) <a href=https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5580254/>https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5580254/</a></li>
<li>Performance evaluation of ble localization work (2014) <a href=https://onlinelibrary.wiley.com/doi/10.1002/ett.2864>https://onlinelibrary.wiley.com/doi/10.1002/ett.2864</a></li>
<li>Existing implementation of ble loc on arduino nano sense (2021) <a href=https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8347277/>https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8347277/</a></li>
<li>Location fingerprinting with BLE beacons (2015):</li>
<li>Location Fingerprinting With Bluetooth Low Energy Beacons.pdf</li>
<li>SurroundSense: mobile phone localization via ambience fingerprinting - <a href=https://dl.acm.org/doi/abs/10.1145/1614320.1614350>https://dl.acm.org/doi/abs/10.1145/1614320.1614350</a></li>
<li>AoA & AoD in Radio localization - <a href=https://www.silabs.com/whitepapers/bluetooth-angle-estimation-for-real-time-locationing>https://www.silabs.com/whitepapers/bluetooth-angle-estimation-for-real-time-locationing</a></li>
</ul>
<h3 id=9b-datasets>9.b. Datasets<a hidden class=anchor aria-hidden=true href=#9b-datasets>#</a></h3>
<p>&ldquo;Warden P. Speech Commands: A public dataset for single-word speech recognition, 2017. Available from: <a href=http://download.tensorflow.org/data/speech_commands_v0.01.tar.gz%22>http://download.tensorflow.org/data/speech_commands_v0.01.tar.gz"</a>.</p>
<h3 id=9c-software>9.c. Software<a hidden class=anchor aria-hidden=true href=#9c-software>#</a></h3>
<ul>
<li>Arduino libs for prototyping</li>
<li>Nordic SDK/softdevices</li>
<li>nRF Connect for Desktop</li>
<li>Python nRF sniffer (802.15.4/BLE)</li>
<li>TinyML</li>
<li>Openthread</li>
<li>Mbed OS</li>
<li>Zephyr OS</li>
<li><a href=https://www.openbeacon.org/about.html>https://www.openbeacon.org/about.html</a></li>
</ul>
<h2 id=10-references>10. References<a hidden class=anchor aria-hidden=true href=#10-references>#</a></h2>
<p>List references correspondign to citations in your text above. For papers please include full citation and URL. For datasets and software include name and URL.</p>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=//postliminal.github.io/ece202-fall21-project/>LOCALIZZACIONE</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>